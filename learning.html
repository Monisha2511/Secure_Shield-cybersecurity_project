<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning - SecureShield</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background-color: #0d1117;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .learning-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .course-header {
            border-bottom: 2px solid #3a86ff;
            padding-bottom: 1rem;
            margin-bottom: 2rem;
        }
        
        .module-card {
            background-color: #161b22;
            border-radius: 8px;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        
        .module-header {
            padding: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .module-content {
            padding: 0 1rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: #1c2129;
        }
        
        .module-content.expanded {
            max-height: 5000px;
            padding: 1rem;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #3a86ff;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .content-item {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: #24292e;
            border-radius: 6px;
        }
        
        .complete-btn {
            margin-top: 10px;
        }
        
        .quiz-container {
            background-color: #2d333b;
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
        }
        
        .video-placeholder {
            background-color: #2d333b;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            margin-bottom: 1rem;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-shield-alt me-2"></i>SecureShield
            </a>
        </div>
    </nav>

    <div class="learning-container">
        <div class="course-header">
            <h1>Learning: <span id="courseTitle">{{ course_name }}</span></h1>
            <p class="lead">Expand your cybersecurity knowledge with this course</p>
            <div class="progress mt-3" style="height: 8px;">
                <div class="progress-bar" role="progressbar" id="courseProgress"></div>
            </div>
            <small id="progressText" class="mt-1 d-block">0% Complete</small>
        </div>

        <div class="course-content">
            <div class="alert alert-info">
                <strong>Course Overview:</strong> This course will teach you essential cybersecurity concepts and practices to protect yourself and your organization from digital threats.
            </div>

            <h3>Course Modules</h3>
            <div id="modulesContainer">
                <!-- Modules will be dynamically inserted here -->
            </div>

            <div class="mt-4">
                <a href="/" class="btn btn-outline-light">Return to Home</a>
            </div>
        </div>
    </div>

    <script>
        // Course data structure with content for all three courses
        const courseData = {
            'Cybersecurity Basics': {
                modules: [{
                    title: "Introduction to Cybersecurity",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "What is Cybersecurity?",
                        content: "Cybersecurity refers to the practice of protecting systems, networks, and programs from digital attacks. These cyberattacks are usually aimed at accessing, changing, or destroying sensitive information; extorting money from users; or interrupting normal business processes."
                    }, {
                        type: "text",
                        title: "Why is it Important?",
                        content: "With an increasing number of users, devices, and programs in the modern enterprise, combined with the increased deluge of data — much of which is sensitive or confidential — the importance of cybersecurity continues to grow. The growing volume and sophistication of cyber attackers and attack techniques compound the problem even further."
                    }, {
                        type: "video",
                        title: "Cybersecurity Fundamentals",
                        content: "Introduction to cybersecurity concepts and principles"
                    }]
                }, {
                    title: "Types of Cyber Threats",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Malware",
                        content: "Malicious software such as viruses, ransomware, and spyware that is designed to cause damage to computers, servers, or networks. Malware can be distributed through email attachments, infected websites, or removable media."
                    }, {
                        type: "text",
                        title: "Phishing",
                        content: "Fraudulent attempts to obtain sensitive information by disguising as a trustworthy entity in electronic communications. Phishing attacks often use social engineering techniques to trick victims into revealing passwords, credit card numbers, or other sensitive data."
                    }, {
                        type: "text",
                        title: "Social Engineering",
                        content: "Psychological manipulation of people into performing actions or divulging confidential information. Attackers exploit human psychology rather than technical vulnerabilities to gain access to systems or data."
                    }, {
                        type: "quiz",
                        title: "Knowledge Check",
                        questions: [{
                            question: "What is the most common delivery method for malware?",
                            options: ["Email attachments", "USB drives", "Social media messages", "Text messages"],
                            answer: 0
                        }, {
                            question: "Which of these is a form of social engineering?",
                            options: ["DDoS attack", "Phishing", "SQL injection", "Zero-day exploit"],
                            answer: 1
                        }]
                    }]
                }, {
                    title: "Security Principles",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Confidentiality, Integrity, Availability (CIA Triad)",
                        content: "The CIA triad is a model designed to guide policies for information security within an organization. Confidentiality ensures data is accessible only to authorized users. Integrity ensures data is accurate and trustworthy. Availability ensures systems and data are accessible when needed."
                    }, {
                        type: "text",
                        title: "Defense in Depth",
                        content: "A cybersecurity approach that uses multiple layers of security controls placed throughout an information system. This provides redundancy in case a security control fails or a vulnerability is exploited. Layers might include physical security, network security, application security, and user education."
                    }, {
                        type: "text",
                        title: "Least Privilege",
                        content: "The principle that users and programs should have only the minimum privileges necessary to complete their tasks. This limits the potential damage from accidents or malicious actions. For example, a user account created for pulling records from a database shouldn't have administrative rights."
                    }]
                }, {
                    title: "Practical Application",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Creating a Security Mindset",
                        content: "Developing a security-conscious approach to all digital activities is crucial. Always question unexpected requests for information, think before clicking links, and verify the authenticity of communications. Regular security awareness training helps maintain this mindset."
                    }, {
                        type: "text",
                        title: "Basic Security Hygiene",
                        content: "Regular software updates, strong unique passwords, enabling multi-factor authentication, and regular backups form the foundation of good cybersecurity practices. These basic measures can prevent the majority of common cyber attacks."
                    }, {
                        type: "activity",
                        title: "Security Self-Assessment",
                        content: "Review your current digital security practices: 1. Check if you use unique passwords for important accounts. 2. Verify that multi-factor authentication is enabled where available. 3. Ensure your devices and software are up to date. 4. Confirm you have recent backups of important data."
                    }]
                }]
            },
            'Phishing Awareness': {
                modules: [{
                    title: "Understanding Phishing",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "What is Phishing?",
                        content: "Phishing is a cybercrime in which targets are contacted by email, telephone, or text message by someone posing as a legitimate institution to lure individuals into providing sensitive data such as personally identifiable information, banking and credit card details, and passwords."
                    }, {
                        type: "text",
                        title: "History of Phishing",
                        content: "The term 'phishing' emerged in the mid-1990s when hackers began using fraudulent emails to 'fish' for information from unsuspecting users. The first known phishing attack targeted AOL users in 1995, aiming to steal passwords and account information. The technique has evolved significantly since then."
                    }, {
                        type: "video",
                        title: "How Phishing Works",
                        content: "Explanation of phishing techniques and how attackers deceive victims"
                    }]
                }, {
                    title: "Types of Phishing Attacks",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Email Phishing",
                        content: "The most common type of phishing attack where attackers send fraudulent emails that appear to come from legitimate sources, trying to trick recipients into revealing sensitive information or clicking malicious links. These often impersonate banks, social media platforms, or online services."
                    }, {
                        type: "text",
                        title: "Spear Phishing",
                        content: "A targeted form of phishing where attackers customize their messages for specific individuals or organizations using gathered information to make the scam more convincing. Spear phishing emails often include personal details like the recipient's name, position, or work history."
                    }, {
                        type: "text",
                        title: "Whaling",
                        content: "A type of spear phishing aimed at high-profile targets like executives or senior officials who have greater access to valuable data and systems. Whaling attacks often involve business email compromise (BEC) and can result in significant financial losses."
                    }, {
                        type: "text",
                        title: "Smishing and Vishing",
                        content: "Phishing attacks conducted via SMS (smishing) or voice calls (vishing) instead of email. These methods exploit people's trust in phone-based communication. Smishing messages often contain links to malicious websites, while vishing calls try to trick victims into revealing information over the phone."
                    }]
                }, {
                    title: "Identifying Phishing Attempts",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Suspicious Sender Addresses",
                        content: "Check email addresses carefully. Phishers often use domains that mimic legitimate ones (e.g., 'amaz0n.com' instead of 'amazon.com'). Look for subtle misspellings, extra characters, or unusual domain extensions that might indicate a fraudulent sender."
                    }, {
                        type: "text",
                        title: "Urgency and Threats",
                        content: "Phishing messages often create a sense of urgency or fear to prompt quick action without careful consideration. Be wary of messages claiming your account will be closed, you'll face penalties, or you'll miss out on opportunities if you don't act immediately."
                    }, {
                        type: "text",
                        title: "Grammar and Spelling Errors",
                        content: "Many phishing attempts contain spelling mistakes, awkward phrasing, or grammatical errors that legitimate organizations typically wouldn't have in official communications. However, some sophisticated attacks now have perfect grammar, so this shouldn't be your only detection method."
                    }, {
                        type: "text",
                        title: "Suspicious Links and Attachments",
                        content: "Hover over links to see the actual URL before clicking. Be extremely cautious with unexpected attachments, as they may contain malware. Don't open attachments from unknown senders, and verify unexpected attachments from known contacts before opening."
                    }]
                }, {
                    title: "Prevention and Response",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Best Practices to Avoid Phishing",
                        content: "1. Verify requests for sensitive information through alternative channels. 2. Use multi-factor authentication to protect accounts even if credentials are compromised. 3. Keep software updated to patch security vulnerabilities. 4. Use anti-phishing browser extensions that warn about suspicious websites. 5. Regularly back up important data to mitigate damage from successful attacks."
                    }, {
                        type: "text",
                        title: "What to Do If You've Been Phished",
                        content: "1. Change affected passwords immediately using a different device. 2. Contact your bank if financial information was compromised to monitor for fraudulent activity. 3. Scan devices for malware using updated security software. 4. Report the phishing attempt to appropriate authorities like the Anti-Phishing Working Group. 5. Monitor accounts for suspicious activity and consider placing fraud alerts if necessary."
                    }, {
                        type: "quiz",
                        title: "Phishing Identification Test",
                        questions: [{
                            question: "Which of these is a red flag for a phishing email?",
                            options: ["Professional logo", "Request for personal information", "Clear contact information", "Company privacy policy"],
                            answer: 1
                        }, {
                            question: "What should you do with a suspicious email from your bank?",
                            options: ["Reply with the information requested", "Click the link to verify your account", "Call the bank using a known phone number", "Forward it to friends to warn them"],
                            answer: 2
                        }, {
                            question: "Which characteristic is common in phishing emails?",
                            options: ["Personalized salutation", "Sense of urgency", "Detailed company information", "Professional formatting"],
                            answer: 1
                        }]
                    }]
                }]
            },
            'Password Management': {
                modules: [{
                    title: "The Importance of Strong Passwords",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Why Passwords Matter",
                        content: "Passwords are the first line of defense against unauthorized access to your personal and professional information. Weak passwords are one of the most common reasons for security breaches. A strong password policy is essential for protecting sensitive data from unauthorized access."
                    }, {
                        type: "text",
                        title: "The Cost of Weak Passwords",
                        content: "According to Verizon's Data Breach Investigations Report, over 80% of hacking-related breaches involve compromised or weak credentials. The average cost of a data breach is millions of dollars for organizations. Weak passwords can lead to identity theft, financial loss, and compromised systems."
                    }, {
                        type: "video",
                        title: "Creating Strong Passwords",
                        content: "Best practices for creating and managing secure passwords"
                    }]
                }, {
                    title: "Creating Strong Passwords",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Characteristics of Strong Passwords",
                        content: "A strong password should be: at least 12 characters long, include uppercase and lowercase letters, contain numbers and special symbols, not be based on personal information, and not be a word found in dictionaries. Avoid common patterns or sequences that are easy to guess."
                    }, {
                        type: "text",
                        title: "Passphrases vs. Passwords",
                        content: "Passphrases are longer than traditional passwords and consist of multiple words, making them more secure and easier to remember. Example: 'BlueCoffeeTable@2023!' is stronger than 'P@ssw0rd'. Passphrases should still include variety in character types and avoid common phrases."
                    }, {
                        type: "text",
                        title: "Password Generators",
                        content: "Password generators create random, strong passwords that are difficult to guess. Many password managers include built-in generators to create and store secure passwords. These tools can create passwords with specified length and character requirements for different sites."
                    }, {
                        type: "activity",
                        title: "Password Strength Test",
                        content: "Try creating a strong password using these guidelines: 1. Start with a base of at least 12 characters. 2. Mix uppercase and lowercase letters. 3. Include numbers and symbols. 4. Avoid common words or personal information. 5. Test your password with online strength meters (but don't use real passwords on unknown sites)."
                    }]
                }, {
                    title: "Password Management Tools",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "What are Password Managers?",
                        content: "Password managers are applications that store and manage online credentials. They encrypt password databases with a master password—the only one you need to remember. Most password managers can automatically fill login forms and sync across multiple devices."
                    }, {
                        type: "text",
                        title: "Benefits of Using a Password Manager",
                        content: "1. Generate strong, unique passwords for each account. 2. Store all passwords securely in an encrypted vault. 3. Auto-fill login forms to save time and prevent typos. 4. Sync across devices for access anywhere. 5. Alert you to security breaches and weak passwords. 6. Securely share passwords with trusted individuals when needed."
                    }, {
                        type: "text",
                        title: "Popular Password Managers",
                        content: "Some widely used password managers include LastPass, 1Password, Bitwarden, and Dashlane. Many browsers also have built-in password management features. When choosing a password manager, consider security features, ease of use, cross-platform compatibility, and cost."
                    }]
                }, {
                    title: "Advanced Password Security",
                    completed: false,
                    content: [{
                        type: "text",
                        title: "Multi-Factor Authentication (MFA)",
                        content: "MFA adds an extra layer of security by requiring two or more verification factors. This significantly reduces the risk of unauthorized access even if your password is compromised. Factors can include something you know (password), something you have (phone), or something you are (fingerprint)."
                    }, {
                        type: "text",
                        title: "Password Rotation Policies",
                        content: "While traditional advice recommended regularly changing passwords, current guidelines suggest that frequent mandatory changes may lead to weaker passwords. Instead, focus on creating strong, unique passwords and change them only when there's a suspected compromise or after a known breach."
                    }, {
                        type: "text",
                        title: "Monitoring for Breaches",
                        content: "Services like 'Have I Been Pwned' allow you to check if your email or password has been involved in a data breach. Many password managers now include breach monitoring features that alert you if your saved credentials appear in known data breaches, prompting you to change affected passwords."
                    }, {
                        type: "quiz",
                        title: "Password Security Quiz",
                        questions: [{
                            question: "What is the recommended minimum length for a strong password?",
                            options: ["6 characters", "8 characters", "12 characters", "16 characters"],
                            answer: 2
                        }, {
                            question: "Which of these is the most secure option?",
                            options: ["Using the same strong password for multiple sites", "Writing passwords down on paper", "Using a password manager", "Memorizing all your passwords"],
                            answer: 2
                        }, {
                            question: "What does MFA stand for in cybersecurity?",
                            options: ["Multiple File Access", "Multi-Factor Authentication", "Managed Firewall Application", "Mobile Frequency Allocation"],
                            answer: 1
                        }]
                    }]
                }]
            }
        };

        // Get course name from the page
        const courseName = document.getElementById('courseTitle').textContent;

        // Initialize the course
        document.addEventListener('DOMContentLoaded', function() {
            initializeCourse(courseName);
            loadProgress();
        });

        function initializeCourse(courseName) {
            const course = courseData[courseName];
            if (!course) {
                document.getElementById('modulesContainer').innerHTML = '<div class="alert alert-danger">Course content not found.</div>';
                return;
            }

            let modulesHTML = '';
            course.modules.forEach((module, index) => {
                modulesHTML += `
                    <div class="module-card">
                        <div class="module-header" onclick="toggleModule(${index})">
                            <h5 class="mb-0">Module ${index + 1}: ${module.title}</h5>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="module-content" id="module-${index}">
                            ${renderModuleContent(module.content)}
                            <button class="btn btn-success complete-btn" onclick="completeModule(${index})">Mark as Complete</button>
                        </div>
                    </div>
                `;
            });

            document.getElementById('modulesContainer').innerHTML = modulesHTML;
        }

        function renderModuleContent(content) {
            let html = '';
            content.forEach((item, idx) => {
                if (item.type === 'text') {
                    html += `
                        <div class="content-item">
                            <h5>${item.title}</h5>
                            <p>${item.content}</p>
                        </div>
                    `;
                } else if (item.type === 'video') {
                    html += `
                        <div class="content-item">
                            <h5>${item.title}</h5>
                            <div class="video-placeholder">
                                <i class="fas fa-video fa-3x"></i>
                                <p class="ms-2">Video: ${item.content}</p>
                            </div>
                            <p><em>In a real application, this would be an embedded educational video</em></p>
                        </div>
                    `;
                } else if (item.type === 'quiz') {
                    html += `
                        <div class="content-item">
                            <h5>${item.title}</h5>
                            <div class="quiz-container">
                                ${renderQuiz(item.questions)}
                            </div>
                        </div>
                    `;
                } else if (item.type === 'activity') {
                    html += `
                        <div class="content-item">
                            <h5>${item.title}</h5>
                            <p>${item.content}</p>
                        </div>
                    `;
                }
            });
            return html;
        }

        function renderQuiz(questions) {
            let html = '';
            questions.forEach((q, qIndex) => {
                        html += `
                    <div class="quiz-question mb-3">
                        <p><strong>${qIndex + 1}. ${q.question}</strong></p>
                        <div class="options">
                            ${q.options.map((option, oIndex) => `
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="question-${qIndex}" id="q${qIndex}-o${oIndex}" value="${oIndex}">
                                    <label class="form-check-label" for="q${qIndex}-o${oIndex}">${option}</label>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            html += '<button class="btn btn-primary" onclick="checkQuiz(this)">Check Answers</button>';
            return html;
        }

        function toggleModule(index) {
            const moduleContent = document.getElementById(`module-${index}`);
            moduleContent.classList.toggle('expanded');
            
            const chevron = moduleContent.previousElementSibling.querySelector('i');
            chevron.classList.toggle('fa-chevron-down');
            chevron.classList.toggle('fa-chevron-up');
        }

        function completeModule(index) {
            const courseName = document.getElementById('courseTitle').textContent;
            const completedModules = JSON.parse(localStorage.getItem(`progress-${courseName}`) || '{}');
            completedModules[index] = true;
            localStorage.setItem(`progress-${courseName}`, JSON.stringify(completedModules));
            
            updateProgress();
            
            // In a real application, you would send this to the server
            /*
            fetch('/api/learning/progress', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    course_name: courseName,
                    module_index: index,
                    completed: true
                })
            });
            */
            
            alert('Module marked as complete!');
        }

        function loadProgress() {
            updateProgress();
        }

        function updateProgress() {
            const courseName = document.getElementById('courseTitle').textContent;
            const course = courseData[courseName];
            if (!course) return;
            
            const completedModules = JSON.parse(localStorage.getItem(`progress-${courseName}`) || '{}');
            const completedCount = Object.keys(completedModules).length;
            const totalCount = course.modules.length;
            const percentage = Math.round((completedCount / totalCount) * 100);
            
            document.getElementById('courseProgress').style.width = `${percentage}%`;
            document.getElementById('progressText').textContent = `${percentage}% Complete (${completedCount}/${totalCount} modules)`;
        }

        function checkQuiz(button) {
            const questionsContainer = button.parentElement;
            const questions = questionsContainer.querySelectorAll('.quiz-question');
            let allCorrect = true;
            
            questions.forEach((question, qIndex) => {
                const selectedOption = question.querySelector('input[type="radio"]:checked');
                if (!selectedOption) {
                    allCorrect = false;
                    question.style.backgroundColor = '#ffcccc';
                    return;
                }
                
                // For demo purposes, we'll just mark it as correct if any answer is selected
                question.style.backgroundColor = '#ccffcc';
            });
            
            if (allCorrect) {
                alert('All answers correct! Well done.');
            } else {
                alert('Some answers are missing or incorrect. Please try again.');
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>